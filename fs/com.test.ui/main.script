# test for ui

f.setTitle "Test App"
f.writeAs "info" atX 10 atY 10 value "Info" onClickGoto :INFO
f.writeAs "choose" atX 10 atY 40 value "Choose" onClickGoto :CHOOSE
f.writeAs "ask" atX 10 atY 70 value "Ask" onClickGoto :ASK
stop

:ASK
  platform.exec "ui" withArgs "ask -prompt \qYour Name\q -value Chris -to test.txt" onDoneGoto :READ onErrorGoto :FAIL
  stop

:CHOOSE
  platform.exec "ui" withArgs "choose -prompt \qChoose One\q -items \qhello/world/from/me\q -value 2 -to test.txt" onDoneGoto :READ onErrorGoto :FAIL
  stop

:INFO
  platform.exec "ui" withArgs "info -prompt \qAbout\q -value \qui.exe|| ||(c)Cylexia\q -to test.txt" onDoneGoto :READ onErrorGoto :FAIL
  stop

:READ
  T = platform.readFromFile "test.txt"
  echo T
  stop
  
:FAIL
  f.writeAs "error" atX 0 atY 0 colour "#f00" value "Failed"
  stop
